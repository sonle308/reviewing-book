{% extends 'library/template.html' %}
{% load static %}

{% block content %}
    <div class="container">
        <div class="row">
            {% for book in books %}
                <div class="col-md-4">
                    <div class="card shadow">
                        <img class="card-img-top" src="{{ book.image }}" alt="image">
                        <div onclick="favorite({{ book.id }})"
                            id="favorite-{{ book.id }}"
                            class="favorite position-absolute ml-2 mt-2 h4 {% if book.userbook__is_favorite %} text-danger {% else %} text-white {% endif %}"
                        >
                            <span><i class="fa fa-heart"></i></span>
                        </div>
                        <div onclick="reading({{ book.id }})"
                            id="reading-{{ book.id }}"
                            class="reading position-absolute h2 {% if book.userbook__is_reading %} text-warning {% else %} text-white {% endif %}"
                            style="right: 8px;top: -5px"
                        >
                            <span><i class="fa fa-bookmark"></i></span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ book.title }}</h5>
                            <p class="card-text">{{ book.description }}</p>
                        </div>
                        <div class="card-footer d-flex">
                            <div class="rating w-50">
                                <span onclick="rating({{ book.id }}, 1)">
                                    <i id="{{ book.id }}-star-1" class="fa {% if book.userbook__rating >= 1 %} fa-star text-warning {% else %} fa-star-o {% endif %}"></i>
                                </span>
                                <span onclick="rating({{ book.id }}, 2)">
                                    <i id="{{ book.id }}-star-2" class="fa {% if book.userbook__rating >= 2 %} fa-star text-warning {% else %} fa-star-o {% endif %}"></i>
                                </span>
                                <span onclick="rating({{ book.id }}, 3)">
                                    <i id="{{ book.id }}-star-3" class="fa {% if book.userbook__rating >= 3 %} fa-star text-warning {% else %} fa-star-o {% endif %}"></i>
                                </span>
                                <span onclick="rating({{ book.id }}, 4)">
                                    <i id="{{ book.id }}-star-4" class="fa {% if book.userbook__rating >= 4 %} fa-star text-warning {% else %} fa-star-o {% endif %}"></i>
                                </span>
                                <span onclick="rating({{ book.id }}, 5)">
                                    <i id="{{ book.id }}-star-5" class="fa {% if book.userbook__rating >= 5 %} fa-star text-warning {% else %} fa-star-o {% endif %}"></i>
                                </span>
                            </div>
                            <div class="status w-50 text-right">
                                <span onclick="read({{ book.id }})">
                                    <i id="read-{{ book.id }}" class="fa fa-check {% if book.userbook__is_read %} text-success {% else %}  {% endif %}"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
            <input id="book-data" type="input" value="{{ data }}" hidden></input>
        </div>
    </div>
{% endblock %}}
{% block scripts %}
    <script src="{% static '/js/library/landing_page.js' %}"></script>
{% endblock %}
